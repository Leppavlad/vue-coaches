(function(e){function t(t){for(var r,c,s=t[0],u=t[1],i=t[2],d=0,l=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&l.push(a[c][0]),a[c]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);f&&f(t);while(l.length)l.shift()();return o.push.apply(o,i||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var s=n[c];0!==a[s]&&(r=!1)}r&&(o.splice(t--,1),e=u(u.s=n[0]))}return e}var r={},c={app:0},a={app:0},o=[];function s(e){return u.p+"js/"+({}[e]||e)+"."+{"chunk-027fbc07":"b5836478","chunk-0b9e66c0":"1040967d","chunk-165ed396":"da534aac","chunk-24fc2373":"9ce6d5e7","chunk-429597f9":"e6bfd4de","chunk-affdb1fe":"825eb60d"}[e]+".js"}function u(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.e=function(e){var t=[],n={"chunk-027fbc07":1,"chunk-0b9e66c0":1,"chunk-165ed396":1,"chunk-24fc2373":1,"chunk-429597f9":1,"chunk-affdb1fe":1};c[e]?t.push(c[e]):0!==c[e]&&n[e]&&t.push(c[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-027fbc07":"a8b75f88","chunk-0b9e66c0":"e4e496de","chunk-165ed396":"f0f98084","chunk-24fc2373":"d463d0ec","chunk-429597f9":"dac9b9ff","chunk-affdb1fe":"b1c3a48a"}[e]+".css",a=u.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var i=o[s],d=i.getAttribute("data-href")||i.getAttribute("href");if("stylesheet"===i.rel&&(d===r||d===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){i=l[s],d=i.getAttribute("data-href");if(d===r||d===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var r=t&&t.target&&t.target.src||a,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete c[e],f.parentNode.removeChild(f),n(o)},f.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){c[e]=0})));var r=a[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=a[e]=[t,n]}));t.push(r[2]=o);var i,d=document.createElement("script");d.charset="utf-8",d.timeout=120,u.nc&&d.setAttribute("nonce",u.nc),d.src=s(e);var l=new Error;i=function(t){d.onerror=d.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),c=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+c+")",l.name="ChunkLoadError",l.type=r,l.request=c,n[1](l)}a[e]=void 0}};var f=setTimeout((function(){i({type:"timeout",target:d})}),12e4);d.onerror=d.onload=i,document.head.appendChild(d)}return Promise.all(t)},u.m=e,u.c=r,u.d=function(e,t,n){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)u.d(n,r,function(t){return e[t]}.bind(null,r));return n},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/",u.oe=function(e){throw console.error(e),e};var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var f=d;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"00aa":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["L"])("data-v-7600fe32"),a=c((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("span",{class:["badge",n.type]},[Object(r["z"])(e.$slots,"default",{},(function(){return[Object(r["h"])(Object(r["D"])(n.title.toUpperCase()),1)]}),{},!0)],2)})),o={props:["type","title"]};n("ddf7");o.render=a,o.__scopeId="data-v-7600fe32";t["default"]=o},"07fc":function(e,t,n){},"0ed6":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["L"])("data-v-7eb6e07a"),a=c((function(e,t,n,a,o,s){var u=Object(r["A"])("router-link");return n.to?(Object(r["s"])(),Object(r["f"])(u,{key:1,to:n.to,class:n.mode},{default:c((function(){return[Object(r["z"])(e.$slots,"default",{},void 0,!0)]})),_:3},8,["to","class"])):(Object(r["s"])(),Object(r["f"])("button",{key:0,class:n.mode},[Object(r["z"])(e.$slots,"default",{},void 0,!0)],2))})),o={props:["to","mode"]};n("72a7");o.render=a,o.__scopeId="data-v-7eb6e07a";t["default"]=o},"191e":function(e,t,n){"use strict";n("ec19")},"1cd3":function(e,t,n){},"225e":function(e,t,n){"use strict";n("f6f3")},"233f":function(e,t,n){var r={"./BaseBadge":["00aa"],"./BaseBadge.vue":["00aa"],"./BaseButton":["0ed6"],"./BaseButton.vue":["0ed6"],"./BaseCard":["e2d2"],"./BaseCard.vue":["e2d2"],"./BaseDialog":["ee98","chunk-027fbc07"],"./BaseDialog.vue":["ee98","chunk-027fbc07"],"./BaseOverlay":["dda4","chunk-165ed396"],"./BaseOverlay.vue":["dda4","chunk-165ed396"],"./BaseSpinner":["5172"],"./BaseSpinner.vue":["5172"]};function c(e){if(!n.o(r,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[e],c=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(c)}))}c.keys=function(){return Object.keys(r)},c.id="233f",e.exports=c},"2e8e":function(e,t,n){},5172:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["L"])("data-v-2d1becb4");Object(r["v"])("data-v-2d1becb4");var a={key:0,class:"wrapper"},o=Object(r["i"])("div",{class:"outer"},[Object(r["i"])("div",{class:"inner"},"Not yet")],-1),s={key:1,class:"outer"},u=Object(r["i"])("div",{class:"inner"},"Not yet",-1);Object(r["t"])();var i=c((function(e,t,n,c,i,d){return Object(r["s"])(),Object(r["f"])(r["a"],null,[n.wrapper?(Object(r["s"])(),Object(r["f"])("div",a,[o])):Object(r["g"])("",!0),n.wrapper?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])("div",s,[u]))],64)})),d={props:["wrapper"]};n("191e");d.render=i,d.__scopeId="data-v-2d1becb4";t["default"]=d},5465:function(e,t,n){},5616:function(e,t,n){"use strict";n("5465")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("b64b"),n("d3b7"),n("3ca3"),n("ddb0");var r=n("7a23"),c=n("6c02"),a=(n("a4d3"),n("e01a"),Object(r["L"])("data-v-650aae75"));Object(r["v"])("data-v-650aae75");var o={class:"controls"},s=Object(r["h"])("REFRESH"),u=Object(r["h"])("Login to register as a coach"),i=Object(r["h"])(" Register as a coach "),d={key:1},l={key:2};Object(r["t"])();var f=a((function(e,t,n,c,f,h){var b=Object(r["A"])("base-dialog"),O=Object(r["A"])("coach-filters"),j=Object(r["A"])("base-card"),p=Object(r["A"])("base-button"),m=Object(r["A"])("base-spinner"),v=Object(r["A"])("coach");return Object(r["s"])(),Object(r["f"])("div",null,[Object(r["i"])(b,{show:!!f.error,onClose:h.handleError},{default:a((function(){return[Object(r["i"])("p",null,Object(r["D"])(f.error),1)]})),_:1},8,["show","onClose"]),Object(r["i"])(j,null,{default:a((function(){return[Object(r["i"])("section",null,[Object(r["i"])(O,{onFilter:h.handleFilters},null,8,["onFilter"])])]})),_:1}),Object(r["i"])(j,null,{default:a((function(){return[Object(r["i"])("section",null,[Object(r["i"])("div",o,[Object(r["i"])(p,{mode:"outline",onClick:t[1]||(t[1]=function(e){return h.loadCoaches(!0)})},{default:a((function(){return[s]})),_:1}),h.isLoggedIn?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])(p,{key:0,to:"/auth?redirect=register"},{default:a((function(){return[u]})),_:1})),!h.isLoggedIn||h.isCoach||f.isLoading?Object(r["g"])("",!0):(Object(r["s"])(),Object(r["f"])(p,{key:1,to:"/register"},{default:a((function(){return[i]})),_:1}))])]),Object(r["i"])("section",null,[f.isLoading?(Object(r["s"])(),Object(r["f"])(m,{key:0,wrapper:!0})):!f.isLoading&&h.hasCoaches?(Object(r["s"])(),Object(r["f"])("ul",d,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(h.coachesFiltered,(function(e){return Object(r["s"])(),Object(r["f"])(v,{key:e.id,id:e.id,firstName:e.firstName,lastName:e.lastName,areas:e.areas,description:e.description,rate:e.hourlyRate},null,8,["id","firstName","lastName","areas","description","rate"])})),128))])):(Object(r["s"])(),Object(r["f"])("h2",l,"No coaches found"))])]})),_:1})])})),h=n("1da1"),b=n("b85c"),O=(n("96cf"),Object(r["L"])("data-v-606f2d91"));Object(r["v"])("data-v-606f2d91");var j=Object(r["i"])("h2",null," Find your coach ",-1);Object(r["t"])();var p=O((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])(r["a"],null,[j,(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(a.filters,(function(e){return Object(r["s"])(),Object(r["f"])("span",{class:"filter-option",key:e.id,onChange:t[1]||(t[1]=function(){return o.setFilter&&o.setFilter.apply(o,arguments)})},[Object(r["J"])(Object(r["i"])("input",{type:"checkbox",name:e.id,id:e.id,"onUpdate:modelValue":function(t){return e.checked=t}},null,8,["name","id","onUpdate:modelValue"]),[[r["F"],e.checked]]),Object(r["i"])("label",{for:e.id},Object(r["D"])(e.label),9,["for"])],32)})),128))],64)})),m={emits:["filter"],data:function(){return{filters:[{id:"frontend",label:"Frontend",checked:!0},{id:"backend",label:"Backend",checked:!0},{id:"career",label:"Career",checked:!0}]}},methods:{setFilter:function(){this.$emit("filter",this.filters)}}};n("e6e2");m.render=p,m.__scopeId="data-v-606f2d91";var v=m,g=Object(r["L"])("data-v-4a1afd88");Object(r["v"])("data-v-4a1afd88");var k={class:"actions"},y=Object(r["h"])("Contact me"),w=Object(r["h"])("View details");Object(r["t"])();var C=g((function(e,t,n,c,a,o){var s=Object(r["A"])("base-badge"),u=Object(r["A"])("base-button");return Object(r["s"])(),Object(r["f"])("li",null,[Object(r["i"])("h3",null,Object(r["D"])(o.fullname),1),Object(r["i"])("h4",null,"$"+Object(r["D"])(n.rate)+"/hour",1),Object(r["i"])("div",null,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(n.areas,(function(e){return Object(r["s"])(),Object(r["f"])(s,{key:e,type:e,title:e},null,8,["type","title"])})),128))]),Object(r["i"])("div",k,[Object(r["i"])(u,{to:o.linkContact,mode:"outline"},{default:g((function(){return[y]})),_:1},8,["to"]),Object(r["i"])(u,{to:o.linkDetails},{default:g((function(){return[w]})),_:1},8,["to"])]),Object(r["i"])("p",null,Object(r["D"])(n.description),1)])})),L=(n("99af"),{props:["id","firstName","lastName","areas","description","rate"],computed:{fullname:function(){return"".concat(this.firstName," ").concat(this.lastName)},linkContact:function(){return"".concat(this.$route.path,"/").concat(this.id,"/contact")},linkDetails:function(){return"".concat(this.$route.path,"/").concat(this.id)}}});n("6899");L.render=C,L.__scopeId="data-v-4a1afd88";var _=L,I={components:{CoachFilters:v,Coach:_},data:function(){return{isLoading:!1,error:null,filters:"all"}},computed:{userId:function(){return this.$store.getters["userId"]},coachesFiltered:function(){return this.$store.getters["coaches/coachesFiltered"]},hasCoaches:function(){return this.$store.getters["coaches/hasCoachesFiltered"]},isCoach:function(){var e,t=this.$store.getters["userId"],n=this.$store.getters["coaches/coaches"],r=Object(b["a"])(n);try{for(r.s();!(e=r.n()).done;){var c=e.value;if(t==c.id)return!0}}catch(a){r.e(a)}finally{r.f()}return!1},isLoggedIn:function(){return this.$store.getters["isAuthenticated"]}},methods:{loadCoaches:function(){var e=arguments,t=this;return Object(h["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]&&e[0],t.isLoading=!0,n.prev=2,n.next=5,t.$store.dispatch("coaches/loadCoaches",{forceRefresh:r});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n["catch"](2),t.error=n.t0.message||"Something went wrong";case 10:t.filterCoaches(t.filters),t.isLoading=!1;case 12:case"end":return n.stop()}}),n,null,[[2,7]])})))()},handleFilters:function(e){this.filters=e,this.filterCoaches()},filterCoaches:function(){this.$store.dispatch("coaches/filterCoaches",this.filters)},handleError:function(){this.error=null}},created:function(){this.loadCoaches()}};n("c729");I.render=f,I.__scopeId="data-v-650aae75";var q=I,x=Object(r["L"])("data-v-3ed7c7a5");Object(r["v"])("data-v-3ed7c7a5");var F=Object(r["i"])("header",null,[Object(r["i"])("h2",null,"Requests")],-1),R={key:1},A={key:2};Object(r["t"])();var S=x((function(e,t,n,c,a,o){var s=Object(r["A"])("base-dialog"),u=Object(r["A"])("base-spinner"),i=Object(r["A"])("request-item"),d=Object(r["A"])("base-card");return Object(r["s"])(),Object(r["f"])("section",null,[Object(r["i"])(d,null,{default:x((function(){return[Object(r["i"])(s,{show:!!a.error,onClose:o.handleError},{default:x((function(){return[Object(r["i"])("p",null,Object(r["D"])(a.error),1)]})),_:1},8,["show","onClose"]),F,a.isLoading?(Object(r["s"])(),Object(r["f"])(u,{key:0,wrapper:!0})):!a.isLoading&&o.hasRequests?(Object(r["s"])(),Object(r["f"])("ul",R,[(Object(r["s"])(!0),Object(r["f"])(r["a"],null,Object(r["y"])(o.requests,(function(e){return Object(r["s"])(),Object(r["f"])(i,{key:e.id,email:e.from,message:e.message},{default:x((function(){return[Object(r["h"])(Object(r["D"])(e),1)]})),_:2},1032,["email","message"])})),128))])):(Object(r["s"])(),Object(r["f"])("h3",A,"You haven't received any requests yet"))]})),_:1})])})),N=Object(r["L"])("data-v-3899d556"),E=N((function(e,t,n,c,a,o){return Object(r["s"])(),Object(r["f"])("li",null,[Object(r["i"])("div",null,[Object(r["i"])("a",{href:o.hrefLink},Object(r["D"])(n.email),9,["href"])]),Object(r["i"])("p",null,Object(r["D"])(n.message),1)])})),T={props:["email","message"],computed:{hrefLink:function(){return"mailto:"+this.email}}};n("7b36");T.render=E,T.__scopeId="data-v-3899d556";var B=T,$={components:{RequestItem:B},data:function(){return{isLoading:!1,error:null}},computed:{requests:function(){return this.$store.getters["requests/requests"]},hasRequests:function(){return this.$store.getters["requests/hasRequests"]}},methods:{loadRequests:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.prev=1,t.next=4,e.$store.dispatch("requests/loadRequests");case 4:t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](1),e.error=t.t0.message||"Couldn't load requests";case 9:e.isLoading=!1;case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},handleError:function(){this.error=null}},created:function(){this.loadRequests()}};n("e6a4");$.render=S,$.__scopeId="data-v-3ed7c7a5";var D=$;function U(e,t){return Object(r["s"])(),Object(r["f"])("h1",null,"Wrong page")}const P={};P.render=U;var J=P,z=n("5502"),M=n("5530"),G=(n("159b"),n("caad"),{namespaced:!0,state:function(){return{lastFetch:null,coaches:[],coachesFiltered:[],currentCoach:{}}},mutations:{filterCoaches:function(e,t){if("all"==t)e.coachesFiltered=e.coaches;else{var n,r=[],c=Object(b["a"])(t);try{for(c.s();!(n=c.n()).done;){var a=n.value;a.checked&&r.push(a.id)}}catch(o){c.e(o)}finally{c.f()}e.coachesFiltered=[],e.coaches.forEach((function(t){var n,c=Object(b["a"])(t.areas);try{for(c.s();!(n=c.n()).done;){var a=n.value;if(r.includes(a))return void e.coachesFiltered.push(t)}}catch(o){c.e(o)}finally{c.f()}}))}},createCoach:function(e,t){e.coaches.push(t)},setCoaches:function(e,t){e.coaches=t},setFetchTimestamp:function(e){e.lastFetch=(new Date).getTime()},setCurrentCoach:function(e,t){e.currentCoach=t}},actions:{filterCoaches:function(e,t){e.commit("filterCoaches",t)},createCoach:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.rootGetters.userId,c=e.rootGetters.token,n.next=4,fetch("https://htc-vue-default-rtdb.firebaseio.com/coaches/".concat(r,".json?auth=").concat(c),{method:"PUT",body:JSON.stringify(t)});case 4:return a=n.sent,n.next=7,a.json();case 7:if(o=n.sent,a.ok){n.next=11;break}throw s=new Error(o.error.message||"Failed creating coach"),s;case 11:e.commit("createCoach",Object(M["a"])(Object(M["a"])({},t),{},{id:r}));case 12:case"end":return n.stop()}}),n)})))()},loadCoaches:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.forceRefresh||e.getters.shouldUpdate){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,fetch("https://htc-vue-default-rtdb.firebaseio.com/coaches.json");case 4:return r=n.sent,n.next=7,r.json();case 7:if(c=n.sent,r.ok){n.next=11;break}throw a=new Error(c.error.message||"Failed to fetch!"),a;case 11:for(s in o=[],c)u={firstName:c[s].firstName,lastName:c[s].lastName,description:c[s].description,hourlyRate:c[s].hourlyRate,areas:c[s].areas,id:s},o.push(u);e.commit("setCoaches",o),e.commit("setFetchTimestamp");case 15:case"end":return n.stop()}}),n)})))()},loadCoach:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.next=3,fetch("https://htc-vue-default-rtdb.firebaseio.com/coaches/".concat(r,".json"));case 3:return c=n.sent,n.next=6,c.json();case 6:if(a=n.sent,c.ok){n.next=10;break}throw o=new Error(a.error.message||"Failed to fetch!"),o;case 10:e.commit("setCurrentCoach",a);case 11:case"end":return n.stop()}}),n)})))()}},getters:{coaches:function(e){return e.coaches},coachesFiltered:function(e){return e.coachesFiltered},hasCoaches:function(e){return e.coaches&&e.coaches.length>0},hasCoachesFiltered:function(e){return e.coachesFiltered&&e.coachesFiltered.length>0},shouldUpdate:function(e){var t=e.lastFetch;if(!t)return!0;var n=(new Date).getTime();return(n-t)/1e3>60},currentCoach:function(e){return e.currentCoach}}}),H={namespaced:!0,state:function(){return{requests:[]}},mutations:{addRequest:function(e,t){e.requests.push(t)},setRequests:function(e,t){e.requests=t}},actions:{sendRequest:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=t,n.next=3,fetch("https://htc-vue-default-rtdb.firebaseio.com/requests/".concat(t.to,".json"),{method:"POST",body:JSON.stringify(r)});case 3:return c=n.sent,n.next=6,c.json();case 6:if(a=n.sent,c.ok){n.next=10;break}throw o=new Error(a.error.message||"Failed to send request"),o;case 10:e.commit("addRequest",r);case 11:case"end":return n.stop()}}),n)})))()},loadRequests:function(e){return Object(h["a"])(regeneratorRuntime.mark((function t(){var n,r,c,a,o,s,u,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.rootGetters.userId,r=e.rootGetters.token,t.next=4,fetch("https://htc-vue-default-rtdb.firebaseio.com/requests/".concat(n,".json?auth=").concat(r));case 4:return c=t.sent,t.next=7,c.json();case 7:if(a=t.sent,c.ok){t.next=11;break}throw o=new Error(a.error.message||"Failed to load requests"),o;case 11:for(u in s=[],a)i=a[u],i.id=u,s.push(i);e.commit("setRequests",s);case 14:case"end":return t.stop()}}),t)})))()}},getters:{requests:function(e){return e.requests},hasRequests:function(e,t){return t.requests&&t.requests.length>0}}},K=null,V={state:function(){return{token:null,userId:null,didLogout:!1,fetchUrl:{login:"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=",signup:"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=",apiKey:"AIzaSyCtVSeQ_J-QO69K-SQfM-FZT4OnmLv9Ymk"}}},mutations:{setUser:function(e,t){e.token=t.token,e.userId=t.userId,e.didLogout=t.didLogout||!1}},actions:{auth:function(e,t){return Object(h["a"])(regeneratorRuntime.mark((function n(){var r,c,a,o,s,u;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.getters.fetchUrl,n.next=3,fetch(r[t.mode]+r.apiKey,{method:"POST",body:JSON.stringify({email:t.email,password:t.password,returnSecureToken:!0})});case 3:return c=n.sent,n.next=6,c.json();case 6:if(a=n.sent,c.ok){n.next=10;break}throw o=new Error(a.error.message||"Failed to authenticate"),o;case 10:s=1e3*+a.expiresIn,u=(new Date).getTime()+s,K=setTimeout((function(){e.dispatch("doLogout")}),s),localStorage.setItem("token",a.idToken),localStorage.setItem("userId",a.localId),localStorage.setItem("tokenExpiration",u),e.commit("setUser",{token:a.idToken,userId:a.localId});case 17:case"end":return n.stop()}}),n)})))()},autoLogin:function(e){var t=localStorage.getItem("token"),n=localStorage.getItem("userId"),r=localStorage.getItem("tokenExpiration"),c=+r-(new Date).getTime();c<0||t&&n&&(e.commit("setUser",{token:t,userId:n}),K=setTimeout((function(){e.dispatch("doLogout")}),c))},doLogout:function(e){localStorage.removeItem("token"),localStorage.removeItem("userId"),localStorage.removeItem("tokenExpiration"),clearTimeout(K),e.commit("setUser",{token:null,userId:null,didLogout:!0})}},getters:{userId:function(e){return e.userId},fetchUrl:function(e){return e.fetchUrl},token:function(e){return e.token},isAuthenticated:function(e){return!!e.token},didLogout:function(e){return e.didLogout}}},Q=Object(z["a"])({modules:{coaches:G,requests:H,auth:V}}),W=Object(c["a"])({history:Object(c["b"])(),routes:[{path:"/",redirect:"/coaches"},{path:"/coaches",name:"coaches",component:q},{path:"/coaches/:id",name:"coach-details",component:function(){return n.e("chunk-0b9e66c0").then(n.bind(null,"f922"))},props:!0,children:[{path:"contact",name:"contact-coach",component:function(){return n.e("chunk-24fc2373").then(n.bind(null,"a980"))}}]},{path:"/auth",name:"autorization",component:function(){return n.e("chunk-affdb1fe").then(n.bind(null,"212c"))},meta:{requiresNotAuth:!0}},{path:"/register",name:"coach-registration",component:function(){return n.e("chunk-429597f9").then(n.bind(null,"f7b3"))},meta:{requiresAuth:!0}},{path:"/requests",name:"send-request",component:D,meta:{requiresAuth:!0}},{path:"/:anything(.*)",component:J}]});W.beforeEach((function(e,t,n){e.meta.requiresAuth&&!Q.getters.isAuthenticated?n("auth"):e.meta.requiresNotAuth&&Q.getters.isAuthenticated?n("coaches"):n()}));var Y=W;function Z(e,t,n,c,a,o){var s=Object(r["A"])("TheHeader"),u=Object(r["A"])("router-view");return Object(r["s"])(),Object(r["f"])(r["a"],null,[Object(r["i"])(s),Object(r["i"])(u,null,{default:Object(r["I"])((function(e){var t=e.Component;return[Object(r["i"])(r["c"],{name:"popUp",mode:"out-in"},{default:Object(r["I"])((function(){return[(Object(r["s"])(),Object(r["f"])(Object(r["B"])(t)))]})),_:2},1024)]})),_:1})],64)}n("ac1f"),n("5319");var X=Object(r["L"])("data-v-1c5ac510");Object(r["v"])("data-v-1c5ac510");var ee=Object(r["h"])("Find a coach"),te=Object(r["h"])("All coaches"),ne={key:0},re=Object(r["h"])("Requests"),ce={key:1},ae=Object(r["h"])("Login"),oe={key:2},se=Object(r["h"])("Logout");Object(r["t"])();var ue=X((function(e,t,n,c,a,o){var s=Object(r["A"])("router-link"),u=Object(r["A"])("base-button");return Object(r["s"])(),Object(r["f"])("header",null,[Object(r["i"])("nav",null,[Object(r["i"])("h1",null,[Object(r["i"])(s,{to:"/"},{default:X((function(){return[ee]})),_:1})]),Object(r["i"])("ul",null,[Object(r["i"])("li",null,[Object(r["i"])(s,{to:"/coaches"},{default:X((function(){return[te]})),_:1})]),o.isLoggedIn?(Object(r["s"])(),Object(r["f"])("li",ne,[Object(r["i"])(s,{to:"/requests"},{default:X((function(){return[re]})),_:1})])):(Object(r["s"])(),Object(r["f"])("li",ce,[Object(r["i"])(s,{to:"/auth"},{default:X((function(){return[ae]})),_:1})])),o.isLoggedIn?(Object(r["s"])(),Object(r["f"])("li",oe,[Object(r["i"])(u,{onClick:o.logout},{default:X((function(){return[se]})),_:1},8,["onClick"])])):Object(r["g"])("",!0)])])])})),ie={computed:{isLoggedIn:function(){return this.$store.getters.isAuthenticated}},methods:{logout:function(){this.$store.dispatch("doLogout"),this.$router.replace("/coaches")}}};n("5616");ie.render=ue,ie.__scopeId="data-v-1c5ac510";var de=ie,le={components:{TheHeader:de},created:function(){this.$store.dispatch("autoLogin")},computed:{didLogout:function(){return this.$store.getters["didLogout"]}},watch:{didLogout:function(e,t){e&&e!=t&&this.$router.replace("/coaches")}}};n("814e");le.render=Z;for(var fe=le,he=n("e2d2"),be=n("0ed6"),Oe=n("00aa"),je=n("5172"),pe={BaseDialog:null,BaseOverlay:null},me=function(){var e=ge[ve];pe[e]=Object(r["j"])((function(){return n("233f")("./"+e)}))},ve=0,ge=Object.keys(pe);ve<ge.length;ve++)me();var ke=Object(r["e"])(fe);ke.component("base-card",he["default"]),ke.component("base-button",be["default"]),ke.component("base-badge",Oe["default"]),ke.component("base-spinner",je["default"]),ke.component("base-dialog",pe.BaseDialog),ke.component("base-overlay",pe.BaseOverlay),ke.use(Y).use(Q).mount("#app")},6899:function(e,t,n){"use strict";n("8ec2")},"72a7":function(e,t,n){"use strict";n("07fc")},"7b36":function(e,t,n){"use strict";n("c984")},"814e":function(e,t,n){"use strict";n("1cd3")},"8ec2":function(e,t,n){},"93b9":function(e,t,n){},b78a:function(e,t,n){},c729:function(e,t,n){"use strict";n("e2a7")},c984:function(e,t,n){},ddf7:function(e,t,n){"use strict";n("93b9")},e2a7:function(e,t,n){},e2d2:function(e,t,n){"use strict";n.r(t);var r=n("7a23"),c=Object(r["L"])("data-v-f54d0a20");Object(r["v"])("data-v-f54d0a20");var a={class:"card"};Object(r["t"])();var o=c((function(e,t){return Object(r["s"])(),Object(r["f"])("div",a,[Object(r["z"])(e.$slots,"default",{},void 0,!0)])}));n("225e");const s={};s.render=o,s.__scopeId="data-v-f54d0a20";t["default"]=s},e6a4:function(e,t,n){"use strict";n("2e8e")},e6e2:function(e,t,n){"use strict";n("b78a")},ec19:function(e,t,n){},f6f3:function(e,t,n){}});
//# sourceMappingURL=app.46fa0dea.js.map